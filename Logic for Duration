Now We have One issue for Employee Whos Working in shift ...
so there Duration willl display wrong like there Duration meets like ...
0:56:17	   21:22:30	
so i will explain you why this happen..
and How to resolve this ..

ex-1	W0024619	Choudhari, Manisha	615828	Contractor	APAC.Default 
and there 06-09-2025	 07-09-2025  duration like ..
0:56:17	    21:22:30	

if we check there swipe details ..


Date	Time (local)	Door	Direction	CardNumber	PersonnelType	Partition	PrimaryLocation	Company
06-09-2025	22:02:09	APAC_IN_PUN_PODIUM_P-1 TURNSTILE 2-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
06-09-2025	22:03:51	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
06-09-2025	22:04:22	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
06-09-2025	22:58:26	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	00:38:52	APAC_IN_PUN_PODIUM_ST2 DOOR 2 (YELLOW)	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	00:39:00	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	00:39:34	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	01:12:31	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	01:16:59	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	01:17:31	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	01:20:48	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	02:46:33	APAC_IN_PUN_PODIUM_ST2 DOOR 2 (YELLOW)	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	02:47:02	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	04:39:59	APAC_IN_PUN_PODIUM_ST2 DOOR 2 (YELLOW)	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	04:40:34	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	06:30:41	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	06:32:58	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	06:38:53	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	06:39:27	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	07:09:31	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	07:10:59	APAC_IN_PUN_PODIUM_P-1 TURNSTILE 1-OUT DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	21:58:51	APAC_IN_PUN_PODIUM_P-1 TURNSTILE 1-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	22:00:48	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	22:01:22	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.



this is Manisha swipe Details so When we Break their swipe details and we identify 
This is manisha first Swipe ....for 06-09-2025 for this day ..Means Manisha ch shift start 10.00.Pm for 06-09-2025 this date ...
06-09-2025	 22:02:09	APAC_IN_PUN_PODIUM_P-1 TURNSTILE 2-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.

manisha swipe theie badge for this day 
06-09-2025	22:03:51	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
06-09-2025	22:04:22	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
06-09-2025	22:58:26	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.

so as per current logic System calculate this duration but this is Wrong ..

after 12:00 am 07-09-2025 Manisha Swipe theie badge 
07-09-2025	00:38:52	APAC_IN_PUN_PODIUM_ST2 DOOR 2 (YELLOW)	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	00:39:00	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	00:39:34	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	01:12:31	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	01:16:59	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	01:17:31	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	01:20:48	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	02:46:33	APAC_IN_PUN_PODIUM_ST2 DOOR 2 (YELLOW)	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	02:47:02	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	04:39:59	APAC_IN_PUN_PODIUM_ST2 DOOR 2 (YELLOW)	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	04:40:34	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	06:30:41	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	06:32:58	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	06:38:53	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	06:39:27	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	07:09:31	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	07:10:59	APAC_IN_PUN_PODIUM_P-1 TURNSTILE 1-OUT DOOR	OutDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.


Here Manisha shift end ..beacause and above shift is from 06-09-2025  this date means all above swipe need to adjust in previous day ..
again manisha swipe theie badge after after 10 to 12 hr means below swipe is manisha start new shift..

so basically there are miltiple shift so we need to make shift logic like When Diffrance Between 2 swipe is greater than 6 hr then adjust shift logic and make duration correcr.

07-09-2025	21:58:51	APAC_IN_PUN_PODIUM_P-1 TURNSTILE 1-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	22:00:48	APAC_IN_PUN_PODIUM_YELLOW_RECEPTION ENTRY-DOOR	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.
07-09-2025	22:01:22	APAC_IN_PUN_PODIUM_GSOC DOOR Restricted door	InDirection	615828	Contractor	APAC.Default	Pune - Business Bay	Poona Security India Pvt. Ltd.



keep Previous logic as it is .Only check shift when Duration meet less than 4 hr and duration meet greater than 20 hr 
only this time we need to check shift..

for Shift we add swipe Diffrance gap ..
and also check swipe whoes swipe came early like .. 12:30 am , 1 :00 am means this people are Working in shift ....


Fix this issue carefully.....


Check below each code line by line and fix the issue carefully
also we have ml folder in project root.
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\ml
if issue is resolve using ml then use ml also 
we need to fix this logic..
