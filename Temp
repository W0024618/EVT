PS C:\Users\W0024618\Desktop\global-page> & C:/Users/W0024618/Desktop/global-page/backend/attendance-analytics/.venv/Scripts/Activate.ps1
(.venv) PS C:\Users\W0024618\Desktop\global-page> cd backend
(.venv) PS C:\Users\W0024618\Desktop\global-page\backend> cd attendance-analytics                                 
(.venv) PS C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics> python -m uvicorn app:app --host 0.0.0.0 --port 8000
INFO:     Started server process [22344]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:54051 - "GET /ccure/stream HTTP/1.1" 200 OK
INFO:     127.0.0.1:65014 - "GET /ccure/stream HTTP/1.1" 200 OK
[compute_daily_attendance] no swipes for 2025-09-09
2025-09-09 10:52:01,888 INFO region_clients: [region_clients] fetched 1172 detail rows across endpoints
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:724: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(sql, conn)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:807: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  grouped = df.groupby(["person_uid", "Date"], sort=False).apply(agg_for_group).reset_index(drop=True)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:724: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(sql, conn)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:807: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  grouped = df.groupby(["person_uid", "Date"], sort=False).apply(agg_for_group).reset_index(drop=True)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:724: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(sql, conn)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:807: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  grouped = df.groupby(["person_uid", "Date"], sort=False).apply(agg_for_group).reset_index(drop=True)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:724: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(sql, conn)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:807: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  grouped = df.groupby(["person_uid", "Date"], sort=False).apply(agg_for_group).reset_index(drop=True)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:724: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(sql, conn)
2025-09-09 10:52:45,487 WARNING region_clients: [region_clients] attempt 1/3 failed for http://10.199.22.57:4000/api/occupancy/history: ('Connection aborted.', ConnectionResetError(10054, 'An existing connection was forcibly closed by the remote host', None, 10054, None))
WARNING:region_clients:[region_clients] attempt 1/3 failed for http://10.199.22.57:4000/api/occupancy/history: ('Connection aborted.', ConnectionResetError(10054, 'An existing connection was forcibly closed by the remote host', None, 10054, None))
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:807: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  grouped = df.groupby(["person_uid", "Date"], sort=False).apply(agg_for_group).reset_index(drop=True)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:724: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(sql, conn)
2025-09-09 10:52:48,141 WARNING region_clients: [region_clients] attempt 2/3 failed for http://10.199.22.57:4000/api/occupancy/history: HTTPConnectionPool(host='10.199.22.57', port=4000): Max retries exceeded with url: /api/occupancy/history (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025BBBC739B0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
WARNING:region_clients:[region_clients] attempt 2/3 failed for http://10.199.22.57:4000/api/occupancy/history: HTTPConnectionPool(host='10.199.22.57', port=4000): Max retries exceeded with url: /api/occupancy/history (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025BBBC739B0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:807: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  grouped = df.groupby(["person_uid", "Date"], sort=False).apply(agg_for_group).reset_index(drop=True)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:724: UserWarning: pandas only supports SQLAlchemy connectable (engine/connection) or database string URI or sqlite3 DBAPI2 connection. Other DBAPI2 objects are not tested. Please consider using SQLAlchemy.
  df = pd.read_sql(sql, conn)
C:\Users\W0024618\Desktop\global-page\backend\attendance-analytics\duration_report.py:807: FutureWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
  grouped = df.groupby(["person_uid", "Date"], sort=False).apply(agg_for_group).reset_index(drop=True)
2025-09-09 10:53:09,381 WARNING region_clients: [region_clients] attempt 3/3 failed for http://10.199.22.57:4000/api/occupancy/history: HTTPConnectionPool(host='10.199.22.57', port=4000): Read timed out. (read timeout=20)       
WARNING:region_clients:[region_clients] attempt 3/3 failed for http://10.199.22.57:4000/api/occupancy/history: HTTPConnectionPool(host='10.199.22.57', port=4000): Read timed out. (read timeout=20)
2025-09-09 10:53:09,402 WARNING region_clients: [region_clients] all 3 attempts failed for http://10.199.22.57:4000/api/occupancy/history: HTTPConnectionPool(host='10.199.22.57', port=4000): Read timed out. (read timeout=20)    
WARNING:region_clients:[region_clients] all 3 attempts failed for http://10.199.22.57:4000/api/occupancy/history: HTTPConnectionPool(host='10.199.22.57', port=4000): Read timed out. (read timeout=20)
2025-09-09 10:53:09,425 INFO region_clients: [region_clients] fetched 56 history entries
INFO:region_clients:[region_clients] fetched 56 history entries
