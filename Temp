Once check Console details package json file and fix the issue carefully.....


PS D:\DASHBOARD\global-page\frontend> npm cache clean --force
npm warn using --force Recommended protections disabled.
npm error code ENOTEMPTY
npm error syscall rmdir
npm error path C:\Users\S326131HQ\AppData\Local\npm-cache\_cacache\index-v5
npm error errno -4051
npm error ENOTEMPTY: directory not empty, rmdir 'C:\Users\S326131HQ\AppData\Local\npm-cache\_cacache\index-v5'
npm error A complete log of this run can be found in: C:\Users\S326131HQ\AppData\Local\npm-cache\_logs\2025-09-26T10_37_32_798Z-debug-0.log
PS D:\DASHBOARD\global-page\frontend> npm install @mui/material@5.18.0 @mui/system@5.18.0 @mui/styled-engine@5.18.0 @emotion/react@11.14.0 @emotion/styled@11.14.1 @mui/x-date-pickers@^6 date-fns@2.30.0 --legacy-peer-deps
npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more compreh
ensive and powerful.
npm warn deprecated lodash.isequal@4.5.0: This package is deprecated. Use require('node:util').isDeepStrictEqual instead.
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated fstream@1.0.12: This package is no longer supported.
npm warn deprecated @mui/base@5.0.0-dev.20240529-082515-213b5e33ab: This package has been replaced by @base-ui-components/react

added 273 packages, and audited 274 packages in 2m

31 packages are looking for funding
  run `npm fund` for details

8 vulnerabilities (2 moderate, 6 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
PS D:\DASHBOARD\global-page\frontend> npm run dev

> global-page-frontend@1.0.0 dev
> vite

Failed to resolve dependency: @mui/icons-material, present in 'optimizeDeps.include'

  VITE v4.5.14  ready in 1248 ms

  ➜  Local:   http://localhost:3005/
  ➜  Network: use --host to expose
  ➜  press h to show help
Error: The following dependencies are imported but could not be resolved:

  @mui/icons-material/ArrowBack (imported by D:/DASHBOARD/global-page/frontend/src/pages/VipPage.jsx)
  @mui/icons-material/Home (imported by D:/DASHBOARD/global-page/frontend/src/pages/GlobalPage.jsx)
  @mui/icons-material/Description (imported by D:/DASHBOARD/global-page/frontend/src/pages/GlobalPage.jsx)
  @mui/icons-material/UploadFile (imported by D:/DASHBOARD/global-page/frontend/src/pages/GlobalPage.jsx)
  @mui/icons-material/AccessTime (imported by D:/DASHBOARD/global-page/frontend/src/pages/GlobalPage.jsx)
  @mui/icons-material/CalendarToday (imported by D:/DASHBOARD/global-page/frontend/src/pages/ReportsPage.jsx)
  @mui/icons-material/Place (imported by D:/DASHBOARD/global-page/frontend/src/pages/ReportsPage.jsx)
  @mui/icons-material/People (imported by D:/DASHBOARD/global-page/frontend/src/pages/ReportsPage.jsx)
  @mui/icons-material/CloudDownload (imported by D:/DASHBOARD/global-page/frontend/src/pages/ReportsPage.jsx)
  @mui/icons-material/FilterList (imported by D:/DASHBOARD/global-page/frontend/src/pages/ReportsPage.jsx)
  @mui/icons-material/Add (imported by D:/DASHBOARD/global-page/frontend/src/components/MapChart.jsx)
  @mui/icons-material/Remove (imported by D:/DASHBOARD/global-page/frontend/src/components/MapChart.jsx)

Are they installed?
    at file:///D:/DASHBOARD/global-page/frontend/node_modules/vite/dist/node/chunks/dep-827b23df.js:45783:23
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///D:/DASHBOARD/global-page/frontend/node_modules/vite/dist/node/chunks/dep-827b23df.js:45191:38







D:\DASHBOARD\global-page\frontend\package.json

{
    "name": "global-page-frontend",
    "version": "1.0.0",
    "type": "module",
    "scripts": {
        "dev": "vite",
        "build": "vite build",
        "preview": "vite preview"
    },
    "dependencies": {
        "@emotion/react": "^11.14.0",
        "@emotion/styled": "^11.14.1",
        "@mui/material": "^5.18.0",
        "@mui/styled-engine": "^5.18.0",
        "@mui/system": "^5.18.0",
        "@mui/x-date-pickers": "^6.20.2",
        "date-fns": "^2.30.0",
        "dayjs": "^1.11.13",
        "exceljs": "^4.4.0",
        "framer-motion": "^10.12.16",
        "react": "^18.2.0",
        "react-dom": "^18.2.0",
        "react-router-dom": "^6.9.0",
        "react-simple-maps": "^3.0.0",
        "xlsx": "^0.18.5"
    },
    "devDependencies": {
        "@vitejs/plugin-react": "^3.1.0",
        "connect-history-api-fallback": "^2.0.0",
        "vite": "^4.4.9"
    }
}











// frontend/vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

const BACKEND_PY_PORT = process.env.BACKEND_PORT || 8000;
const BACKEND_PY_HOST = `http://10.199.22.57:${BACKEND_PY_PORT}`; // Python (ccure)
const NODE_BACKEND = 'http://10.199.22.57:3009';                 // Node (headcount + other legacy endpoints)

export default defineConfig({
  plugins: [react()],
  publicDir: path.resolve(__dirname, '../public'),
  resolve: {
    alias: {
      // Keep @mui/material un-aliased (let package resolution work normally)
      // Force emotion and MUI styled engine to use the top-level copies to avoid duplicates:
      '@emotion/react': path.resolve(__dirname, 'node_modules/@emotion/react'),
      '@emotion/styled': path.resolve(__dirname, 'node_modules/@emotion/styled'),
      // This makes every `@mui/styled-engine` import resolve to whatever is installed at top-level
      '@mui/styled-engine': path.resolve(__dirname, 'node_modules/@mui/styled-engine'),
    },
    // Prevent duplicate copies of these libs being bundled
    dedupe: ['@mui/material', '@mui/system', '@mui/styled-engine', '@emotion/react', '@emotion/styled']
  },
  optimizeDeps: {
    // help vite pre-bundle these so ESM exports resolve correctly
    include: [
      '@mui/material',
      '@mui/material/styles',
      '@mui/icons-material',
      '@emotion/react',
      '@emotion/styled',
      '@mui/system',
      '@mui/styled-engine'
    ]
  },
  server: {
    port: 3005,
    hmr: { overlay: false },
    proxy: {
      '/api/ccure': {
        target: BACKEND_PY_HOST,
        changeOrigin: true,
        secure: false,
        rewrite: (path) => path.replace(/^\/api/, ''),
        timeout: 120000
      },
      '/api': {
        target: NODE_BACKEND,
        changeOrigin: true,
        secure: false,
        timeout: 120000
      }
    }
  }
});
